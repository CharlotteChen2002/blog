import{W as t,H as e,l as n,k as s,n as o,L as r,M as a,b as l,O as i,X as u,q as c,Y as d,F as p,N as m,T as h,w as g,c as f,a as b,r as v,v as y,Z as k,o as x,B as C,C as S,V as _,E as w,D as P,z as $,x as z,G as A,$ as I,d as L,a0 as M,a1 as R,a2 as j,a3 as B,a4 as D,a5 as E,y as N,a6 as T,_ as H}from"./index-C_6fBbrq.js";import{L as O}from"./loading-loop_width_48px_height_48px-RKKgy41S.js";import{_ as U}from"./Tag-CycxfMlu.js";let V=!1;const q={name:"Skeleton",common:e,self:function(t){const{heightSmall:e,heightMedium:n,heightLarge:s,borderRadius:o}=t;return{color:"#eee",colorEnd:"#ddd",borderRadius:o,heightSmall:e,heightMedium:n,heightLarge:s}}},F=n([s("skeleton","\n height: 1em;\n width: 100%;\n transition:\n --n-color-start .3s var(--n-bezier),\n --n-color-end .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n animation: 2s skeleton-loading infinite cubic-bezier(0.36, 0, 0.64, 1);\n background-color: var(--n-color-start);\n "),n("@keyframes skeleton-loading","\n 0% {\n background: var(--n-color-start);\n }\n 40% {\n background: var(--n-color-end);\n }\n 80% {\n background: var(--n-color-start);\n }\n 100% {\n background: var(--n-color-start);\n }\n ")]),W=o({name:"Skeleton",inheritAttrs:!1,props:Object.assign(Object.assign({},a.props),{text:Boolean,round:Boolean,circle:Boolean,height:[String,Number],width:[String,Number],size:String,repeat:{type:Number,default:1},animated:{type:Boolean,default:!0},sharp:{type:Boolean,default:!0}}),setup(e){!function(){if(t&&window.CSS&&!V&&(V=!0,"registerProperty"in(null===window||void 0===window?void 0:window.CSS)))try{CSS.registerProperty({name:"--n-color-start",syntax:"<color>",inherits:!1,initialValue:"#0000"}),CSS.registerProperty({name:"--n-color-end",syntax:"<color>",inherits:!1,initialValue:"#0000"})}catch(e){}}();const{mergedClsPrefixRef:n}=r(e),s=a("Skeleton","-skeleton",F,q,e,n);return{mergedClsPrefix:n,style:l((()=>{var t,n;const o=s.value,{common:{cubicBezierEaseInOut:r}}=o,a=o.self,{color:l,colorEnd:c,borderRadius:d}=a;let p;const{circle:m,sharp:h,round:g,width:f,height:b,size:v,text:y,animated:k}=e;void 0!==v&&(p=a[i("height",v)]);const x=m?null!==(t=null!=f?f:b)&&void 0!==t?t:p:f,C=null!==(n=m&&null!=f?f:b)&&void 0!==n?n:p;return{display:y?"inline-block":"",verticalAlign:y?"-0.125em":"",borderRadius:m?"50%":g?"4096px":h?"":d,width:"number"==typeof x?u(x):x,height:"number"==typeof C?u(C):C,animation:k?"":"none","--n-bezier":r,"--n-color-start":l,"--n-color-end":c}}))}},render(){const{repeat:t,style:e,mergedClsPrefix:n,$attrs:s}=this,o=c("div",d({class:`${n}-skeleton`,style:e},s));return t>1?c(p,null,function(t){const e=[];for(let n=0;n<t;++n)e.push(null);return e}(t).map((t=>[o,"\n"]))):o}}),G={class:"relative"},X={class:"absolute inset-0 flex flex-col items-center justify-center"},Y=b("p",{class:"mt-4"}," Loading comments... ",-1),Z=o({__name:"Comment",props:{post:{}},setup(t){const e=t,{isDark:n}=k(),s=m();function o(){var t,e,o;null==(e=null==(t=s.value)?void 0:t.firstChild)||e.remove();const r=document.createElement("script");r.async=!0,r.setAttribute("src","https://utteranc.es/client.js"),r.setAttribute("repo","CharlotteChen2002/CharlotteChen2002.github.io"),r.setAttribute("issue-term","pathname"),r.setAttribute("crossorigin","anonymous"),n.value?r.setAttribute("theme","github-dark"):r.setAttribute("theme","github-light"),null==(o=s.value)||o.appendChild(r)}return h(o),g((()=>e.post),o),g(n,((t,e)=>{var n,o,r;t!==e&&(null==(r=null==(o=null==(n=s.value)?void 0:n.querySelector("iframe"))?void 0:o.contentWindow)||r.postMessage({type:"set-theme",theme:t?"github-dark":"github-light"},"https://utteranc.es"))})),(t,e)=>(x(),f("div",G,[b("div",{ref_key:"vueUtterances",ref:s,class:"min-h-268px relative z-2"},null,512),b("div",X,[v(y(O),{style:{color:"#18a058"}}),Y])]))}}),J={class:"overflow-hidden my-12 p-4 border-t border-b"},K={key:0,class:"float-left my-2"},Q={key:1,class:"float-right my-2"},tt=o({__name:"PostFooter",props:{post:{}},setup(t){const e=t,{summary:n}=w(),s=l((()=>n.findIndex((t=>t.url===e.post))));return(t,e)=>{const o=C("router-link");return x(),f("div",J,[y(s)>0?(x(),f("div",K,[v(o,{to:`/posts/${encodeURIComponent(y(n)[y(s)-1].url)}`},{default:S((()=>[P(" Last："+$(y(n)[y(s)-1].title),1)])),_:1},8,["to"])])):_("",!0),y(s)+1<y(n).length?(x(),f("div",Q,[v(o,{to:`/posts/${encodeURIComponent(y(n)[y(s)+1].url)}`},{default:S((()=>[P(" Next："+$(y(n)[y(s)+1].title),1)])),_:1},8,["to"])])):_("",!0)])}}}),et={class:"md-blog m-auto text-left"},nt={class:"border-b pb-4"},st=o({__name:"PostHeader",props:{post:{}},setup:t=>(t,e)=>{const n=C("router-link"),s=U;return x(),f("div",et,[b("h1",null,$(t.post.title),1),b("p",null,$(t.post.date),1),b("div",nt,[(x(!0),f(p,null,z(t.post.tags,(t=>(x(),A(s,{key:t,class:"mr-2 mb-4",type:"info",round:""},{default:S((()=>[v(n,{to:`/tags/${encodeURIComponent(t)}`,class:"!text-inherit !no-underline"},{default:S((()=>[P($(t),1)])),_:2},1032,["to"])])),_:2},1024)))),128))])])}});function ot(t,e){return t+Math.round(Math.random()*(e-t))}async function rt(t,e){const n=(r=t.split("/"),r.pop()||r.pop()||"").split(".")[0],s=sessionStorage.getItem(n),o=function(t){const e=Date.now(),n=sessionStorage.getItem(`${t}__time`)??"0";return(e-Number(n))/1e3}(n);var r;if(s&&o<3600)return s;const a=await async function(t,e){const n=new AbortController;return e&&e((()=>n.abort())),fetch(`/posts/${t}.htm`,{signal:n.signal}).then((t=>t.text()))}(n,e);return sessionStorage.setItem(n,a),sessionStorage.setItem(`${n}__time`,Date.now().toString()),a}const{summary:at}=w();function lt(t){return at.find((e=>t.includes(e.url)))??{url:"",title:"",tags:[],date:""}}const it={class:"lg:card px-6"},ut={class:"mt-1.6em text-left"},ct=["innerHTML"],dt=o({__name:"[post]",props:{post:{}},setup(t){const e=t,{getCachedPostData:n,getCurrentPostSummary:s}={getCachedPostData:rt,getCurrentPostSummary:lt},o=l((()=>s(e.post))),r=l((()=>`${o.value.title} | Charlotte Chen's blog`));I(r);const{setToc:a,enableToc:i}=E();L((()=>{i.value=!1}));const u=m(!0),c=M((async t=>{u.value=!0;const s=await n(e.post,t);return u.value=!1,s}),""),{scroll:d,deferScroll:h}=T(),k=m();return R((()=>{e.post&&d({left:0,top:0})})),g(c,(()=>{j((()=>{h(),k.value&&a(k.value)}))})),(t,e)=>{const n=st,s=W,r=tt,a=Z,l=H;return x(),f("article",it,[v(n,{post:y(o)},null,8,["post"]),B(b("div",ut,[(x(),f(p,null,z(4,(t=>(x(),f(p,{key:t},[v(s,{text:"",repeat:y(ot)(1,3)},null,8,["repeat"]),v(s,{text:"",style:N(`width: ${y(ot)(20,80)}%`)},null,8,["style"])],64)))),64))],512),[[D,y(u)]]),B(b("div",null,[b("div",{ref_key:"postContentEle",ref:k,class:"md-blog m-auto text-left",innerHTML:y(c)},null,8,ct),v(r,{post:y(o).url},null,8,["post"]),v(a,{post:y(o)},null,8,["post"]),v(l)],512),[[D,!y(u)]])])}}});export{dt as default};
